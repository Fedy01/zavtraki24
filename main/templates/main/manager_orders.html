{% extends "main/base.html" %}
{% block title %}–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∑–∞–∫–∞–∑–∞–º–∏{% endblock %}

{% block content %}
<div class="container mt-4">

    <h2 class="mb-4">üìã –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∑–∞–∫–∞–∑–∞–º–∏</h2>

    <table class="table table-bordered table-striped table-hover">
        <thead class="table-dark">
            <tr>
                <th>ID</th>
                <th>–ö–ª–∏–µ–Ω—Ç</th>
                <th>–¢–µ–ª–µ—Ñ–æ–Ω</th>
                <th>–°—Ç–∞—Ç—É—Å</th>
                <th>–ö—É—Ä—å–µ—Ä</th>
                <th>–°–æ–∑–¥–∞–Ω</th>
                <th>–î–µ–π—Å—Ç–≤–∏—è</th>
            </tr>
        </thead>

        <tbody>
        {% for order in orders %}
            <tr>
                <td>{{ order.id }}</td>
                <td>{{ order.name }}</td>
                <td>{{ order.phone }}</td>
                <td>
                    <span class="badge {% if order.status == 'NEW' %}bg-primary
                                      {% elif order.status == 'COOKING' %}bg-warning
                                      {% elif order.status == 'DELIVERY' %}bg-info
                                      {% elif order.status == 'DONE' %}bg-success
                                      {% endif %}">
                        {{ order.get_status_display }}
                    </span>
                </td>

                <td>
                    {% if order.courier %}
                        {{ order.courier.username }}
                    {% else %}
                        <span class="text-muted">–Ω–µ –Ω–∞–∑–Ω–∞—á–µ–Ω</span>
                    {% endif %}
                </td>

                <td>{{ order.created_at|date:"d.m.Y H:i" }}</td>

                <td>
                    <a href="{% url 'update_order_status' order.id %}" class="btn btn-sm btn-outline-primary">
                        –ò–∑–º–µ–Ω–∏—Ç—å —Å—Ç–∞—Ç—É—Å
                    </a>

                    <a href="{% url 'assign_courier' order.id %}" class="btn btn-sm btn-outline-secondary">
                        –ù–∞–∑–Ω–∞—á–∏—Ç—å –∫—É—Ä—å–µ—Ä–∞
                    </a>
                </td>
            </tr>
        {% endfor %}
        </tbody>

    </table>
</div>
{% endblock %}
